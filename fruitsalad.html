<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Iia Haavanoksa">
	<link href="style.css" rel="stylesheet" type="text/css">

	<title>Fruit Salad Assignment</title>

<style>

</style>

</head>
<body> 
	<h3>Shopping List for Fruit Salad</h3>

	<form>
		<p>
			<label>Product:</label> 
			<input type="text" id="product" size="20">
		</p>
		<p>
			<label>Price:</label> 
			<input type="number" id="price" size="20">
		</p>
		<p>
			<input type="button" value="Add" onclick="add()">
		</p>
	</form>

	<!-- The list goes here -->
	<div id="list"></div>
	
	<script>
		const fruitList = [];
		let minProduct = "";
		let maxProduct = "";

		// Function called by pushing the button
		function add() {
			// Creating the variables
			let fruit = document.getElementById("product").value;
			let price = document.getElementById("price").value;

			// Adding product-price pair to products-list
			let listItem = {name: fruit, price: price};
			fruitList.push(listItem);

			// Checking the list
			console.log(fruitList);

			// Calling for function to finding the cheapest and most expensive products
			minMaxProduct();

			// Calling for function to list the products
			list();
		}

		function list() {
			// Variable where the list is written as string
			let listingFruits = "";

			// Listing the products
			fruitList.forEach(fruit =>
				listingFruits += fruit.name + " (" + fruit.price + " euros)<br>"
			);

			// Checking the results
			console.log("Cheapest product: " + minProduct.name);
			console.log("Cheapest price: " + minProduct.price);
			console.log("Most expensive product: " + maxProduct.name);
			console.log("Most expensive price: " + maxProduct.price);

			// Listing the products on the html page
			document.getElementById("list").innerHTML = "<p>" + listingFruits + "</p> <p>The priciest product is " + maxProduct.name + " (" + maxProduct.price + " euros)</p><p>The cheapest product is " + minProduct.name + " (" + minProduct.price + " euros)";
		}

		function minMaxProduct() {
			// Finding the most expensive product
			maxProduct = fruitList.reduce(function(accumulator, currentValue){
				return (accumulator > currentValue ? accumulator : currentValue);
			});

			// Finding the cheapest product
			minProduct = fruitList.reduce(function(accumulator, currentValue){
				return (accumulator < currentValue ? accumulator : currentValue);
			});
		}
	</script>
</body>
</html>